(window.webpackJsonp=window.webpackJsonp||[]).push([[295],{943:function(s,a,t){"use strict";t.r(a);var n=t(28),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"项目代码路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目代码路径"}},[s._v("#")]),s._v(" 项目代码路径")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/test/publish\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/test/publish\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone git@code.aliyun.com:youchuan-blockchain/customer-chain-admin.git \n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" customer-chain-admin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"配置nginx-uat-1-49-233-19-38"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx-uat-1-49-233-19-38"}},[s._v("#")]),s._v(" 配置nginx [uat-1:  49.233.19.38  ]")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#目的 reactuk(名字定死)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/nginx/sites-enabled/default\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("        location /reactuk {\n            root /var/www/;\n            index  index.html index.htm;\n        }\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"项目编译并同时上传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目编译并同时上传"}},[s._v("#")]),s._v(" 项目编译并同时上传")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/test/publish/customer-chain-admin\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" uat\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Self documented Makefile")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# http://marmelab.com/blog/2016/02/29/auto-documented-makefile.html")]),s._v("\nSERVER"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yc-1\nprd-1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("prd-1\nuat-1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("uat-1\n\n"),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v(".PHONY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" all build\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("all")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  build\n\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" testing\n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("@")]),s._v("echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build all"')]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("buildprod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("\tyarn run build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("prod\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("builduat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("\tyarn run build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("uat\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("buildtesting")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("\tyarn run build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("testing\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#dev:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#\tyarn run dev")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("testing")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("buildtesting\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SERVER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo mkdir -p /var/www/reactuk; sudo chown www-data:www-data -R /var/www/reactuk"')]),s._v("\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SERVER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo chmod 777 -R /var/www/reactuk"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("\tscp -r dist/* "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),s._v("(SERVER)")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/var/www/reactuk\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SERVER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo chown www-data:www-data -R /var/www/reactuk"')]),s._v("\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SERVER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" sudo chmod 755 -R /var/www/reactuk"')]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("uat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("builduat\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uat-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo mkdir -p /var/www/reactuk; sudo chown www-data:www-data -R /var/www/reactuk"')]),s._v("\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uat-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo chmod 777 -R /var/www/reactuk"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("\tscp -r dist/* "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),s._v("(uat-1)")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/var/www/reactuk\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uat-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo chown www-data:www-data -R /var/www/reactuk"')]),s._v("\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uat-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" sudo chmod 755 -R /var/www/reactuk"')]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("product")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("buildprod\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prd-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo mkdir -p /var/www/reactuk; sudo chown www-data:www-data -R /var/www/reactuk"')]),s._v("\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prd-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo chmod 777 -R /var/www/reactuk"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("\tscp -r dist/* "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),s._v("(prd-1)")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/var/www/reactuk\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prd-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sudo chown www-data:www-data -R /var/www/reactuk"')]),s._v("\n\tssh "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("prd-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" sudo chmod 755 -R /var/www/reactuk"')]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br")])]),t("h2",{attrs:{id:"依赖项-node环境-yarn环境-make环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖项-node环境-yarn环境-make环境"}},[s._v("#")]),s._v(" 依赖项 node环境 yarn环境 make环境")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("机器名:uat-1\n机器名:prd-1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"生产环境项目编译并同时上传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生产环境项目编译并同时上传"}},[s._v("#")]),s._v(" 生产环境项目编译并同时上传")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/test/publish/customer-chain-admin\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" product\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"碰到的问题-yarn-install-第一次卡住不动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#碰到的问题-yarn-install-第一次卡住不动"}},[s._v("#")]),s._v(" 碰到的问题(yarn install 第一次卡住不动)")])])}),[],!1,null,null,null);a.default=e.exports}}]);