(window.webpackJsonp=window.webpackJsonp||[]).push([[330],{984:function(t,_,s){"use strict";s.r(_);var a=s(28),r=Object(a.a)({},(function(){var t=this,_=t.$createElement,s=t._self._c||_;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"上下文切换：-是指cpu从一个进程（或线程）切换到另一个进程（或线程），涉及到控制权的转移。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上下文切换：-是指cpu从一个进程（或线程）切换到另一个进程（或线程），涉及到控制权的转移。"}},[t._v("#")]),t._v(" 上下文切换： 是指CPU从一个进程（或线程）切换到另一个进程（或线程），涉及到控制权的转移。")]),t._v(" "),s("ul",[s("li",[t._v("保存当前进程的上下文")]),t._v(" "),s("li",[t._v("选择某个进程，恢复其上一次换出时保存的上下文")]),t._v(" "),s("li",[t._v("当前进程将控制权转移给新恢复的进程")])]),t._v(" "),s("p",[t._v("进程由程序代码、数据、进程控制块（Process Control Block, "),s("code",[t._v("PCB")]),t._v("）三个部分组成")]),t._v(" "),s("h2",{attrs:{id:"task-struct是linux中的pcb，进程上下切换时需要保存task-struct中的内容。包含以下内容："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-struct是linux中的pcb，进程上下切换时需要保存task-struct中的内容。包含以下内容："}},[t._v("#")]),t._v(" task_struct是Linux中的PCB，进程上下切换时需要保存task_struct中的内容。包含以下内容：")]),t._v(" "),s("ul",[s("li",[t._v("线程的切换： 线程共享进程的资源，进行线程切换时，只需要保存线程的私有数据：栈、程序计数器、寄存器")]),t._v(" "),s("li",[t._v("进程切换的开销比线程切换的开销大：")]),t._v(" "),s("li",[t._v("显式原因： 进程的上下文切换需要保存更多的信息，比线程的上下文切换开销更大。")]),t._v(" "),s("li",[t._v("隐式原因： 进程切换时使用不同资源的task_struct之间的调度，而线程切换是使用相同资源的task_struct之间的调度。进程切换使得原有的缓存不适用，会触发缺页中断；而线程切换时，由于使用相同资源，缓存的命中率更高很多。")]),t._v(" "),s("li",[t._v("Linux中使用TLB（Translation Lookaside Buffer，转换检测缓冲）来管理虚拟内存到物理内存的映射关系。虚拟内存更新后，TLB也需要刷新，"),s("code",[t._v("内存的访问会随之变慢")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"进程终止的原因："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程终止的原因："}},[t._v("#")]),t._v(" 进程终止的原因：")]),t._v(" "),s("ul",[s("li",[t._v("正常结束： exit、halt、logoff。")]),t._v(" "),s("li",[t._v("异常结束： 无可用内存、越界、保护错误、算术错误、I/O失败、无效指令、特权指令等")]),t._v(" "),s("li",[t._v("外界干预： kill进程、父进程终止（父进程终止，其子进程可能被系统终止）、父进程请求（父进程可以请求终止子进程）。")])]),t._v(" "),s("h2",{attrs:{id:"进程终止的过程："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程终止的过程："}},[t._v("#")]),t._v(" 进程终止的过程：")]),t._v(" "),s("ul",[s("li",[t._v("检索PCB，检查进程状态")]),t._v(" "),s("li",[t._v("将进程从运行态转换成终止态")]),t._v(" "),s("li",[t._v("检查是否有子进程需要终止")]),t._v(" "),s("li",[t._v("将获取到的资源归还给父进程或系统")]),t._v(" "),s("li",[t._v("将该进程的PCB从PCB队列中移出")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/u014454538/article/details/99330919",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),s("OutboundLink")],1)])])}),[],!1,null,null,null);_.default=r.exports}}]);