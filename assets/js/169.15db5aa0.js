(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{803:function(s,a,t){"use strict";t.r(a);var e=t(28),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"从源码编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从源码编译安装"}},[s._v("#")]),s._v(" 从源码编译安装")]),s._v(" "),t("ul",[t("li",[s._v("下载源码   https://dev.mysql.com/downloads/mysql/")]),s._v(" "),t("li",[s._v("解压到目录  /Users/hfb/projects/c-c++/mysql-5.7.33       "),t("code",[s._v("带boost的版本")])]),s._v(" "),t("li",[s._v('修改 ~/.bash_profile     增加    alias cmake="cmake -DWITH_BOOST=/Users/xxxx/cppProject/boost_1_59_0"')]),s._v(" "),t("li")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/hfb/projects/c-c++/mysql-5.7.33\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" bld\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" bld\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("make")]),s._v(" "),t("li",[s._v("export DESTDIR=/Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir && make install")]),s._v(" "),t("li",[s._v("/Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir/usr/local/mysql/bin/mysqld --initialize --user=mysql --basedir=/Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir --datadir=/Users/hfb/projects/c-c++/mysql-5.7.33/bld/data_dir")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("hfbdeMacBook-Pro:~ hfb$ /Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir/usr/local/mysql/bin/mysqld --initialize --user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql --basedir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir --datadir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/Users/hfb/projects/c-c++/mysql-5.7.33/bld/data_dir\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-04-05T11:29:54.404019Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("see documentation "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" details"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-04-05T11:29:54.405651Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERROR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Can"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t find error-message file '")]),s._v("/Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir/share/errmsg.sys"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'. Check error-message file location and '")]),s._v("lc-messages-dir"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' configuration directive.\n2021-04-05T11:29:54.416693Z 0 [Warning] Setting lower_case_table_names=2 because file system for /Users/hfb/projects/c-c++/mysql-5.7.33/bld/data_dir/ is case insensitive\n2021-04-05T11:29:54.421239Z 0 [Warning] One can only use the --user switch if running as root\n\n2021-04-05T11:29:54.723633Z 0 [Warning] InnoDB: New log files created, LSN=45790\n2021-04-05T11:29:54.846974Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.\n2021-04-05T11:29:54.935514Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 3e9aa132-9602-11eb-934f-fd381ef059ed.\n2021-04-05T11:29:54.950839Z 0 [Warning] Gtid table is not ready to be used. Table '")]),s._v("mysql.gtid_executed' cannot be opened.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-04-05T11:29:55.222735Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CA certificate ca.pem is self signed.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-04-05T11:29:55.356278Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Note"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" A temporary password is generated "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" root@localhost: oC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("waxA8juyd\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"启动服务端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动服务端"}},[s._v("#")]),s._v(" 启动服务端")]),s._v(" "),t("ul",[t("li",[s._v("/Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir/usr/local/mysql/bin/mysqld --defaults-file=/Users/hfb/projects/c-c++/mysql-5.7.33/bld/data_dir/my.cnf  --user=mysql")])]),s._v(" "),t("h2",{attrs:{id:"启动客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动客户端"}},[s._v("#")]),s._v(" 启动客户端")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("特珠字符在终端上登录不了,在navicat工具上可以")]),s._v(" "),t("code",[s._v("并且工具会提示自动改成新的密码")]),s._v(" "),t("code",[s._v("密码12345678")])])]),s._v(" "),t("li",[t("p",[s._v("/Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir/usr/local/mysql/bin/mysql -uroot -P3307 -p12345678")])]),s._v(" "),t("li",[t("p",[s._v("参考链接   https://blog.csdn.net/weixin_29721821/article/details/113267563")])]),s._v(" "),t("li",[t("p",[s._v("参考书籍   《MySQL 运维内参》")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建 ln -s /Users/hfb/projects/c-c++/mysql-5.7.33/bld/ins_dir/usr/local/mysql mysql57")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ln -s mysql57 mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir mysql_db_1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# PATH=/Users/hfb/mysql/bin:$PATH #把编译好的代码bin放入path中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 启动服务端")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一次(初始化表格):  mysqld --defaults-file=/Users/hfb/mysql_db_1/my.cnf --initialize")]),s._v("\nmysqld --defaults-file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/Users/hfb/mysql_db_1/my.cnf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[s._v("tag for search: mysql1\n"),t("ul",[t("li",[s._v("支行命令mysqld 启动服务(./bash_profile)")])])])]),s._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql_db_1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[client]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("root")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("passwd")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("123")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[mysql]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("prompt")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("(\\\\u@\\\\h) [\\\\d]>\\\\_")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[mysqld]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("3307")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("datadir")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("/Users/hfb/mysql_db_1/data")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);