(window.webpackJsonp=window.webpackJsonp||[]).push([[333],{987:function(s,a,t){"use strict";t.r(a);var e=t(28),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("ul",[t("li",[t("p",[s._v("视频学习 https://www.bilibili.com/video/BV1iA411i7Nt?from=search&seid=314034498830684522")])]),s._v(" "),t("li",[t("p",[s._v("参考项目 https://github.com/bradford-hamilton/dora")])]),s._v(" "),t("li",[t("p",[s._v("本地路径 /Users/hfb/projects/go/gopath/src_only_mod_copy/github.com/hfbhfb/dora")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/hfb/projects/go/gopath/src_only_mod_copy/github.com/hfbhfb/dora\ngo "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -bench"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(". -benchtime"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3s -cpuprofile"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cpu.out ./pkg/dora/ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" new.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("go tool pprof cpu.out\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nlist \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/hfb/projects/go/gopath/src_only_mod_copy/github.com/hfbhfb/dora\ngo tool pprof -http"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(":8070 cpu.out\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("hr"),s._v(" "),t("p",[s._v("title: 在 Go 語言使用 pprof 找出程式碼效能瓶頸\ndate: 2021-04-11 20:22:53\npermalink: /pages/30fa2d/\ncategories:")]),s._v(" "),t("ul",[t("li",[s._v("操作系统级与go进阶")]),s._v(" "),t("li",[s._v("操作系统级\ntags:")]),s._v(" "),t("li")]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[t("p",[s._v("视频学习 https://www.bilibili.com/video/BV1iA411i7Nt?from=search&seid=314034498830684522")])]),s._v(" "),t("li",[t("p",[s._v("参考项目 https://github.com/bradford-hamilton/dora")])]),s._v(" "),t("li",[t("p",[s._v("本地路径 /Users/hfb/projects/go/gopath/src_only_mod_copy/github.com/hfbhfb/dora")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/hfb/projects/go/gopath/src_only_mod_copy/github.com/hfbhfb/dora\ngo "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -bench"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(". -benchtime"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3s -cpuprofile"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cpu.out ./pkg/dora/ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" new.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/hfb/projects/go/gopath/src_only_mod_copy/github.com/hfbhfb/dora\ngo tool pprof cpu.out\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nlist NextToken\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/hfb/projects/go/gopath/src_only_mod_copy/github.com/hfbhfb/dora\ngo tool pprof -http"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(":8070 cpu.out\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"开放一个浏览器端口-实时检查状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开放一个浏览器端口-实时检查状态"}},[s._v("#")]),s._v(" 开放一个浏览器端口,实时检查状态")]),s._v(" "),t("ul",[t("li",[s._v("参考项目 https://github.com/DeanThompson/ginpprof")]),s._v(" "),t("li",[s._v("本地路径 /Users/hfb/projects/go/gopath/src_only_mod_copy/gopl.io/a_for_test/go_pprof/")]),s._v(" "),t("li",[s._v("http://localhost:8390/debug/pprof/profile")]),s._v(" "),t("li",[s._v("http://localhost:8390/ping")]),s._v(" "),t("li",[s._v("http://localhost:8390/debug/pprof/heap")]),s._v(" "),t("li",[s._v("http://localhost:8390/debug/pprof/goroutine")]),s._v(" "),t("li",[s._v("http://localhost:8390/debug/pprof/cmdline")]),s._v(" "),t("li",[s._v("http://localhost:8390/debug/pprof/trace")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/hfb/projects/go/gopath/src_only_mod_copy/gopl.io/a_for_test/go_pprof/\ngowatch\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /Users/hfb/projects/go/gopath/src_only_mod_copy/gopl.io/a_for_test/go_pprof/\ngo tool pprof http://localhost:8390/debug/pprof/profile?seconds"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);